{% extends 'base.html' %}
{% load widget_tweaks %} <!--pip install django-widget-tweaks-->
{% block title %}Edit Post{% endblock %}

{% block stylesheet %}
  <link rel="stylesheet" \
    href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
{% endblock %}

{% block breadcrumb %}
  <li class="breadcrumb-item">
    <a href="{% url 'url_home' %}">
      Discussions
    </a>
  </li>
  <li class="breadcrumb-item">
  </li>
    <a href="{% url 'url_discussion_topics' post.topic.discussion.id %}">
      {{ post.topic.discussion.name }}
    </a>
  </li>
  <li class="breadcrumb-item">
    <a href="{% url 'url_topic_posts' post.topic.discussion.pk post.topic.pk %}">
      {{ post.topic.subject }}
    </a>
  </li>
  <li class="breadcrumb-item">
    <a href="{% url 'url_edit_post' post.topic.discussion.pk post.topic.pk post.pk %}">
      {{ post.message }}
    </a>
  </li>
  <li class="breadcrumb-item active">Edit</li>
{% endblock %}

{% block content %}
  <form method="post" novalidate>
    {% csrf_token %}
    {% include 'includes/form.html' %}
    <button type="submit" class="btn btn-success">Save</button>
  </form>

{% endblock %}
{% block javascript %}
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<script>
  // Transforms the 1st text area it founds into a markdown editor :)
  var simplemde = new SimpleMDE(forceSync: true)
</script>
{% endblock %}
